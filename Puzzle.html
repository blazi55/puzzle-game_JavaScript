<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="game_board">
        <div class="title">1</div>
        <div class="title">2</div>
        <div class="title">3</div>
        <div class="title">4</div>
        <div class="title">5</div>
        <div class="title">6</div>
        <div class="title">7</div>
        <div class="title">8</div>
        <div class="title"> </div>
    </div>

    <script>
        const gameTitle = document.querySelectorAll('.title');

        const gameBoard = document.querySelector('#game_board');

        const gameState = [
            [gameTitle[0], gameTitle[1], gameTitle[2]],
            [gameTitle[3], gameTitle[4], gameTitle[5]],
            [gameTitle[6], gameTitle[7], gameTitle[8]]
        ];

        function render(gameBoard) {
            gameState.forEach((row) => {
                row.forEach((column) => {
                    gameBoard.appendChild(column);
                });
            })
        }

        gameBoard.addEventListener('click', (event) => {
            const target = event.target;
            let emptyx, emptyy
            let x, y

            gameState.forEach((row, rowIndex) => {
                row.forEach((column, columnIndex) => {
                    if(column === target) {
                        x = rowIndex;
                        y = columnIndex;
                    }
                }); 

            });

            gameState.forEach((row, rowIndex) => {
                row.forEach((column, columnIndex) => {
                    if(column.innerHTML === ' ') {
                        emptyx = rowIndex;
                        emptyy = columnIndex;
                    }
                }); 

            });

            if(emptyx === x && ( y + 1 === emptyy || y - 1 === emptyy) ||
             emptyy === y && (x + 1 === emptyx || x - 1 === emptyx)) {
                const temp = gameState[x][y];
                gameState[x][y] = gameState[emptyx][emptyy];
                gameState[emptyx][emptyy] = temp;
                render(gameBoard, gameState);
            }
        });

    </script>

</body>
</html>